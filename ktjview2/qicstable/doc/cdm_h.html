<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>custom_data_model.h</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<a href="http://www.ics.com/index.html">
<img src="ics.jpg" border="0" alt="ICS">
</a>
<center>
<H2>QicsTable Documentation Set</H2>
</center>
</a></head><body>


<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a></div>
<h1><a name="cdm_h">custom_data_model.h</a>
</h1><div class="fragment"><pre><span class="comment">/****************************************************************************</span>
<span class="comment">** $RCSfile$ $Date$</span>
<span class="comment">**</span>
<span class="comment">** Copyright ( C ) 2002-2003 Integrated Computer Solutions, Inc.</span>
<span class="comment">** All rights reserved.</span>
<span class="comment">**</span>
<span class="comment">** This file is part of an example program for QicsTable.  This example</span>
<span class="comment">** program may be used, distributed and modified without limitation.</span>
<span class="comment">**</span>
<span class="comment">*****************************************************************************/</span>

<span class="preprocessor">#ifndef _CUSTOM_DATA_MODEL_H</span>
<span class="preprocessor"></span><span class="preprocessor">#define _CUSTOM_DATA_MODEL_H</span>
<span class="preprocessor"></span>
<span class="preprocessor">#include &lt;qglobal.h&gt;</span>
<span class="preprocessor">#include &lt;qvaluevector.h&gt;</span>
<span class="preprocessor">#include &lt;<a class="code" href="QicsDataModel_8h.html">QicsDataModel.h</a>&gt;</span>


<span class="comment">// This is an example of a custom data model.</span>


<span class="comment">// First, here are some existing classes that define stock data.  These are</span>
<span class="comment">// supposed to simulate the kinds of classes that a typical programmer might</span>
<span class="comment">// already have when s/he decides to use the QicsTable.</span>

<span class="comment">// We will be using these classes when we make the custom data model.</span>


<span class="comment">// Represents a single stock</span>
<span class="keyword">class </span>StockPrivate
{
<span class="keyword">public</span>:
    StockPrivate();
    <span class="keyword">virtual</span> ~StockPrivate();

    <span class="keyword">inline</span> QString symbol(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<span class="keyword">    </span>{ <span class="keywordflow">return</span> _symbol; }
    <span class="keyword">inline</span> <span class="keywordtype">void</span> setSymbol(QString sym)
    { _symbol = sym; }

    <span class="keyword">inline</span> <span class="keywordtype">float</span> high(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<span class="keyword">    </span>{ <span class="keywordflow">return</span> _high; }
    <span class="keyword">inline</span> <span class="keywordtype">void</span> setHigh(<span class="keywordtype">float</span> val)
    { _high = val; }

    <span class="keyword">inline</span> <span class="keywordtype">float</span> low(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<span class="keyword">    </span>{ <span class="keywordflow">return</span> _low; }
    <span class="keyword">inline</span> <span class="keywordtype">void</span> setLow(<span class="keywordtype">float</span> val)
    { _low = val; }

    <span class="keyword">inline</span> <span class="keywordtype">float</span> close(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<span class="keyword">    </span>{ <span class="keywordflow">return</span> _close; }
    <span class="keyword">inline</span> <span class="keywordtype">void</span> setClose(<span class="keywordtype">float</span> val)
    { _close = val; }

    <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> volume(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<span class="keyword">    </span>{ <span class="keywordflow">return</span> _volume; }
    <span class="keyword">inline</span> <span class="keywordtype">void</span> setVolume(<span class="keywordtype">int</span> val)
    { _volume = val; }

<span class="keyword">protected</span>:
    QString _symbol;
    <span class="keywordtype">float</span> _high;
    <span class="keywordtype">float</span> _low;
    <span class="keywordtype">float</span> _close;
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _volume;
};

<span class="preprocessor">#include &lt;qptrvector.h&gt;</span>

<span class="comment">// Represents a set of stocks</span>
<span class="keyword">class </span>StockDataSet
{
<span class="keyword">public</span>:
    StockDataSet();
    <span class="keyword">virtual</span> ~StockDataSet();

    <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numStocks(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<span class="keyword">    </span>{ <span class="keywordflow">return</span> _stocks.size(); }

    <span class="keyword">virtual</span> <span class="keywordtype">void</span> insertStock(<span class="keywordtype">int</span> position = -1);
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> removeStock(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx);

    <span class="keyword">inline</span> QString symbol(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx) <span class="keyword">const</span>;
    <span class="keyword">inline</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> setSymbol(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx, QString sym);

    <span class="keyword">inline</span> <span class="keywordtype">float</span> high(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx) <span class="keyword">const</span>;
    <span class="keyword">inline</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> setHigh(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx, <span class="keywordtype">float</span> val);

    <span class="keyword">inline</span> <span class="keywordtype">float</span> low(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx) <span class="keyword">const</span>;
    <span class="keyword">inline</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> setLow(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx, <span class="keywordtype">float</span> val);

    <span class="keyword">inline</span> <span class="keywordtype">float</span> close(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx) <span class="keyword">const</span>;
    <span class="keyword">inline</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> setClose(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx, <span class="keywordtype">float</span> val);

    <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> volume(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx) <span class="keyword">const</span>;
    <span class="keyword">inline</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> setVolume(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> val);

<span class="keyword">protected</span>:
    <span class="keyword">typedef</span> QValueVector&lt;StockPrivate *&gt; StockList;

    StockList _stocks;
};


<span class="keyword">class </span>StockDataModel : <span class="keyword">public</span> <a class="code" href="classQicsDataModel.html">QicsDataModel</a>, <span class="keyword">public</span> StockDataSet
{
    Q_OBJECT
<span class="keyword">public</span>:
    StockDataModel();
    <span class="keyword">virtual</span> ~StockDataModel();

    <span class="keyword">const</span> <a class="code" href="classQicsDataItem.html">QicsDataItem</a> *<a class="code" href="classQicsDataModel.html#QicsDataModela7">item</a>(<span class="keywordtype">int</span> row, <span class="keywordtype">int</span> col) <span class="keyword">const</span>;

    <a class="code" href="QicsDataModel_8h.html#a1">QicsDataModelRow</a> <a class="code" href="classQicsDataModel.html#QicsDataModela10">rowItems</a>(<span class="keywordtype">int</span> row, <span class="keywordtype">int</span> first_col=0, <span class="keywordtype">int</span> last_col=-1) <span class="keyword">const</span>;
    <a class="code" href="QicsDataModel_8h.html#a0">QicsDataModelColumn</a> <a class="code" href="classQicsDataModel.html#QicsDataModela11">columnItems</a>(<span class="keywordtype">int</span> col, <span class="keywordtype">int</span> first_row=0, <span class="keywordtype">int</span> last_row=-1) <span class="keyword">const</span>;

    <span class="keywordtype">void</span> <a class="code" href="classQicsDataModel.html#QicsDataModela12">setRowItems</a>(<span class="keywordtype">int</span> row, <span class="keyword">const</span> QicsDataModelRow &amp;v);
    <span class="keywordtype">void</span> <a class="code" href="classQicsDataModel.html#QicsDataModela13">setColumnItems</a>(<span class="keywordtype">int</span> col, <span class="keyword">const</span> QicsDataModelColumn &amp;v);

    <span class="comment">// reimplemented methods of the StockDataSet</span>
    <span class="keywordtype">void</span> setSymbol(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx, QString sym);
    <span class="keywordtype">void</span> setHigh(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx, <span class="keywordtype">float</span> val);
    <span class="keywordtype">void</span> setLow(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx, <span class="keywordtype">float</span> val);
    <span class="keywordtype">void</span> setClose(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx, <span class="keywordtype">float</span> val);
    <span class="keywordtype">void</span> setVolume(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> val);
    <span class="keywordtype">void</span> insertStock(<span class="keywordtype">int</span> position = -1);
    <span class="keywordtype">void</span> removeStock(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx);

<span class="keyword">public</span> slots:
<span class="preprocessor">#if !defined(__GNUC__) || (__GNUC__ &gt;= 3)</span>
<span class="preprocessor"></span>    <span class="comment">// need this or else setItem() hides other setItem methods in superclass</span>
    <span class="keyword">using</span> <a class="code" href="classQicsDataModel.html#QicsDataModeli0">QicsDataModel::setItem</a>;
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    <span class="keywordtype">void</span> <a class="code" href="classQicsDataModel.html#QicsDataModeli0">setItem</a>(<span class="keywordtype">int</span> row, <span class="keywordtype">int</span> col, <span class="keyword">const</span> <a class="code" href="classQicsDataItem.html">QicsDataItem</a> &amp;item);

    <span class="keywordtype">void</span> <a class="code" href="classQicsDataModel.html#QicsDataModeli17">clearItem</a>(<span class="keywordtype">int</span> row, <span class="keywordtype">int</span> col);
    <span class="keywordtype">void</span> <a class="code" href="classQicsDataModel.html#QicsDataModeli18">clearModel</a>(<span class="keywordtype">void</span>);

    <span class="keywordtype">void</span> <a class="code" href="classQicsDataModel.html#QicsDataModeli11">addRows</a>(<span class="keywordtype">int</span> number_of_rows);
    <span class="keywordtype">void</span> <a class="code" href="classQicsDataModel.html#QicsDataModeli12">addColumns</a>(<span class="keywordtype">int</span> number_of_columns);

    <span class="keywordtype">void</span> <a class="code" href="classQicsDataModel.html#QicsDataModeli9">insertRows</a>(<span class="keywordtype">int</span> number_of_rows, <span class="keywordtype">int</span> starting_position);
    <span class="keywordtype">void</span> <a class="code" href="classQicsDataModel.html#QicsDataModeli10">insertColumns</a>(<span class="keywordtype">int</span> number_of_columns, <span class="keywordtype">int</span> starting_position);

    <span class="keywordtype">void</span> <a class="code" href="classQicsDataModel.html#QicsDataModeli13">deleteRow</a>(<span class="keywordtype">int</span> row);
    <span class="keywordtype">void</span> <a class="code" href="classQicsDataModel.html#QicsDataModeli14">deleteRows</a>(<span class="keywordtype">int</span> num_rows, <span class="keywordtype">int</span> start_row);
    <span class="keywordtype">void</span> <a class="code" href="classQicsDataModel.html#QicsDataModeli15">deleteColumn</a>(<span class="keywordtype">int</span> col);
    <span class="keywordtype">void</span> <a class="code" href="classQicsDataModel.html#QicsDataModeli16">deleteColumns</a>(<span class="keywordtype">int</span> num_cols, <span class="keywordtype">int</span> start_col);

<span class="keyword">protected</span>:
    <span class="keyword">enum</span> { SDM_Symbol = 0, SDM_Close = 1, SDM_High = 2,
       SDM_Low = 3, SDM_Volume = 4, SDM_NumDataItems = 5 } StockDataIndex;

    <a class="code" href="classQicsDataItem.html">QicsDataItem</a> *_item;
};

<span class="preprocessor">#endif </span><span class="comment">/* _CUSTOM_DATA_MODEL_H */</span>
</pre></div> <!-- footer -->
<P>
<center>
<font size="1">
All trademarks and copyrights on this page are properties of
their respective owners.<br> The rest is copyright ©1999-2003 Integrated
Computer Solutions, Inc.
</font>
</center>
<!-- end footer -->
