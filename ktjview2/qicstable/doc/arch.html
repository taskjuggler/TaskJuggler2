<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>QicsTable Architectural Overview</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<a href="http://www.ics.com/index.html">
<img src="ics.jpg" border="0" alt="ICS">
</a>
<center>
<H2>QicsTable Documentation Set</H2>
</center>
</a></head><body>


<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a></div>
<h1><a name="arch">QicsTable Architectural Overview</a>
</h1>The QicsTable distribution contains many different classes. This page describes some of the more important and commonly used classes and how they work together.<p>
<h3>Model-View-Controller</h3>
<p>
QicsTable implements a form of the <em>model-view-controller</em> architecture. In this type of architecture, the data is stored in the <em>model</em>, where it can be accessed by many views. The <em>view</em> displays the data from the model. The <em>controller</em> allows one to manipulate the data in the model.<p>
<div align="center">
<img src="mvc.jpg" alt="mvc.jpg">
</div>
<p>
For a more general description of the model-view-controller architecture, see <a href="http://ootips.org/mvc-pattern.html.">http://ootips.org/mvc-pattern.html.</a><p>
In QicsTable, the model is repesented by the abstract class <a class="el" href="classQicsDataModel.html">QicsDataModel</a>. This class defines the common interface that all data models must support. The <a class="el" href="classQicsDataModelDefault.html">QicsDataModelDefault</a> class is the default implementation of the <a class="el" href="classQicsDataModel.html">QicsDataModel</a> interface. If <a class="el" href="classQicsDataModelDefault.html">QicsDataModelDefault</a> does not meet your needs, you may create your own implementation of the <a class="el" href="classQicsDataModel.html">QicsDataModel</a> API (see <a class="el" href="extend_model.html">Extending the QicsTable Data Model</a> for details).<p>
In many designs using the model-view-controller architecture, the view and the controller are grouped together. This is especially common in GUI applications and toolkits, where the widget abstraction encompasses the domains of both the view (what is drawn in the widget's window) and the controller (how the user interacts with the widget). In this case, it is natural to group the view and controller functions together into a widget. This is the approach used in QicsTable.<p>
The main table widget is <a class="el" href="classQicsTable.html">QicsTable</a>. This widget acts as both view and controller. Each <a class="el" href="classQicsTable.html">QicsTable</a> widget is associated with a single data model object, which holds the data that the table will display.<p>
<h3>Table Components</h3>
<p>
The table widget itself has a number of different parts. It has a main grid, which displays data from the model. It has one or more row header grids, which display row indices, row labels, or arbitrary data for each row. It has one or more column header grids, which display column indices, column labels, or arbitrary data for each column. It has optional scrollbars, which allow the user to control which rows and columns of data are displayed. Optional title widgets can be placed on each of the four sides of the table widget.<p>
<div align="center">
<img src="tableparts.png" alt="tableparts.png">
</div>
<p>
In the QicsTable architecture, each component type is responsible for the layout and/or display of a particular part of the table. The <a class="el" href="classQicsTable.html">QicsTable</a> widget is responsible for the overall layout of the table. Each grid (row, column, or table) is responsible for the display of its frame and grid lines, and is also responsible for the layout of the cells within the grid. For more information on grids, see <a class="el" href="keymouse_behavior.html">Customizing Grid Keyboard and Mouse Event Behavior</a>.<p>
The actual drawing of individual cells is performed by <em>cell display objects</em>. A cell display object is a property of each cell (see below for more details on cell properties). For more information on cell display objects, see <a class="el" href="cell_display.html">Customizing Table Display Using Cell Display Objects</a>.<p>
<h3>Flyweight Objects</h3>
<p>
In an object-oriented programming environment, it is desirable to define a class for each distinct object type in the application. So, in a table, there should be a class representing the table as a whole, a class representing a row in the table, a class representing a column in the table, and a class representing a cell in the table. Each object should be able to retrieve and set all of the properties of that entity. It is often very inefficient, however, to actually store instances of these objects for each row, column, and cell.<p>
A design pattern called the <em>flyweight pattern</em> solves this problem by defining small efficient classes that represent rows, columns, and cells, but don't actually contain redundant copies of all of the properties of the entities. Rather, they contain just enough information to retrieve and set those properties within the table's internal data structures. In addition, no instances of these flyweight classes exist until needed by the programmer.<p>
When a programmer wants to refer to cell <code></code>(3,2) in the table, s/he needs an instance of the <a class="el" href="classQicsCell.html">QicsCell</a> class. There are three ways to get an instance of this flyweight class:<p>
<ul>
<li><a class="el" href="classQicsTable.html#QicsTablea13">QicsTable::cellRef()</a> This method returns a reference to a cell object. This reference must be used immediately to retrieve or set a property of the cell.</li><li><a class="el" href="classQicsTable.html#QicsTablea15">QicsTable::cell()</a> This method returns a newly allocated cell object. This object is persistent, and remains valid until it is destroyed explicitly by the programmer or until the table is destroyed. It can be used multiple times to retrieve and set properties, and can also be used in a signal/slot connection.</li><li><a class="el" href="classQicsCell.html#QicsCella0">QicsCell::QicsCell()</a> This public constructor returns a newly allocated cell object. The object has the same characteristics as described immediately above.</li></ul>
<p>
Similar methods exist for <a class="el" href="classQicsRow.html">QicsRow</a> and <a class="el" href="classQicsColumn.html">QicsColumn</a>.<p>
In addition, there are flyweight objects that represent entire grids in the table. <a class="el" href="classQicsMainGrid.html">QicsMainGrid</a> represents the central grid, while <a class="el" href="classQicsRowHeader.html">QicsRowHeader</a> and <a class="el" href="classQicsColumnHeader.html">QicsColumnHeader</a> refer to the header grids.<p>
These grid objects can be accessed and/or created in the following ways:<p>
<ul>
<li><a class="el" href="classQicsTable.html#QicsTablea17">QicsTable::mainGridRef()</a>, <a class="el" href="classQicsTable.html#QicsTablea21">QicsTable::rowHeaderRef()</a>, and <a class="el" href="classQicsTable.html#QicsTablea25">QicsTable::columnHeaderRef</a></li><li><a class="el" href="classQicsTable.html#QicsTablea19">QicsTable::mainGrid()</a>, <a class="el" href="classQicsTable.html#QicsTablea23">QicsTable::rowHeader()</a>, and <a class="el" href="classQicsTable.html#QicsTablea27">QicsTable::columnHeader()</a></li><li><a class="el" href="classQicsMainGrid.html#QicsMainGrida0">QicsMainGrid::QicsMainGrid()</a>, <a class="el" href="classQicsRowHeader.html#QicsRowHeadera0">QicsRowHeader::QicsRowHeader()</a>, and <a class="el" href="classQicsColumnHeader.html#QicsColumnHeadera0">QicsColumnHeader::QicsColumnHeader()</a></li></ul>
<p>
Once you have a header object, you can refer to cells and rows and columns in the header in a similar way to the cells in the main table. For cells in the row header, use one of the following two methods:<p>
<ul>
<li><a class="el" href="classQicsHeader.html#QicsRowHeadera9">QicsRowHeader::cellRef()</a></li><li><a class="el" href="classQicsHeader.html#QicsRowHeadera10">QicsRowHeader::cell()</a></li></ul>
<p>
These methods work similarly to the corresponding methods of <a class="el" href="classQicsTable.html">QicsTable</a>. Similar methods exist for rows and columns, and all of these methods are duplicated in <a class="el" href="classQicsColumnHeader.html">QicsColumnHeader</a>.<p>
<h3>Properties</h3>
<p>
The table widget has three sets of properties. <b>Table properties</b> specify attributes of the table as a whole. <b>Grid properties</b> specify attributes of a specific grid (either the main grid or one of the headers). <b>Cell properties</b> specify attributes of individual cells.<p>
Table properties can be set only on a <a class="el" href="classQicsTable.html">QicsTable</a> widget. These properties specify the visual and behavioral characteristics of the table widget.<p>
Grid properties can be set on the main grid of the <a class="el" href="classQicsTable.html">QicsTable</a> widget, or on one of the header grids. These properties specify the visual and behavioral characteristics of an individual grid. When setting or retrieving a grid property on the main grid of the table widget, use the read and write functions of the main grid object (<a class="el" href="classQicsMainGrid.html">QicsMainGrid</a>). For example, to set the <a class="el" href="classQicsGridCommon.html#QicsTableCommonz9_1">frameStyle</a> property, use <a class="el" href="classQicsGridCommon.html#QicsTableCommoni29">QicsMainGrid::setFrameStyle()</a>. When setting or retrieving a grid property on one of the header grids, use the read and write functions from the appropriate flyweight class (<a class="el" href="classQicsRowHeader.html">QicsRowHeader</a> and <a class="el" href="classQicsColumnHeader.html">QicsColumnHeader</a>). For example, to set the <a class="el" href="classQicsGridCommon.html#QicsTableCommonz9_1">frameStyle</a> property on the row header grid, use <a class="el" href="classQicsGridCommon.html#QicsTableCommoni29">QicsRowHeader::setFrameStyle()</a>.<p>
Cell properties can be set on a single cell, an entire row or column, or an entire grid. For example, one property of a cell is <a class="el" href="classQicsCellCommon.html#QicsTableCommonz3_4">"font"</a>. This property exists in all of the following objects: <a class="el" href="classQicsCell.html">QicsCell</a> (single cell), <a class="el" href="classQicsRow.html">QicsRow</a> (entire row), <a class="el" href="classQicsColumn.html">QicsColumn</a> (entire column), <a class="el" href="classQicsMainGrid.html">QicsMainGrid</a> (entire main grid), <a class="el" href="classQicsRowHeader.html">QicsRowHeader</a> (entire row header grid), and <a class="el" href="classQicsColumnHeader.html">QicsColumnHeader</a> (entire column header grid). Calling <a class="el" href="classQicsCellCommon.html#QicsTableCommoni42">setFont()</a> on a row sets the font for all cells in that row, overriding any previous font settings. Similarly, setting the font on a column overrides all previous font settings for cells in that column. Calling <a class="el" href="classQicsCellCommon.html#QicsTableCommoni42">setFont()</a> for an entire grid overrides all font settings for all cells in the grid.<p>
If you wish to set a cell or grid property on <b>all</b> of the grids, you can use the read and write functions on the <a class="el" href="classQicsTable.html">QicsTable</a> widget itself. For example, calling <a class="el" href="classQicsTable.html#QicsTablei8">QicsTable::setAlignment()</a> will change the alignment of all cells in the main grid, the row header, and the column header. <!-- footer -->
<P>
<center>
<font size="1">
All trademarks and copyrights on this page are properties of
their respective owners.<br> The rest is copyright ©1999-2003 Integrated
Computer Solutions, Inc.
</font>
</center>
<!-- end footer -->
